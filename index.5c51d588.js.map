{"mappings":"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","sources":["src/index.js","src/js/movieMarkup.js","src/js/pagination.js"],"sourcesContent":["import './js/preloader';\nimport './js/fetchApi';\nimport './js/movieMarkup';\nimport './js/checkGenres';\nimport './js/modalMovie';\nimport './js/pagination';\n","import MovieApi from './fetchApi';\nimport { checkGenreByID } from './checkGenres';\n\nconst listMovies = document.querySelector('.js-home-main');\nconst searchMovie = document.querySelector('.js-search-form');\nconst movieApi = new MovieApi();\nsearchMovie.addEventListener('submit', searchMovieForQuery);\nmovieApi.resetPage();\nmovieApi.fetchMoviesWeek().then(data => {\n  console.log(data);\n  createMarkup(data.results);\n});\nmovieApi.fetchGeners().then(data => {\n  genresMovies(data.genres);\n});\n\nfunction searchMovieForQuery(e) {\n  e.preventDefault();\n  console.log(e.currentTarget.elements.query.value);\n  movieApi.query = e.currentTarget.elements.query.value;\n  movieApi.resetPage();\n  clearPage();\n  movieApi.fetchMoviesForQuery().then(data => {\n    console.log(data.results);\n    createMarkup(data.results);\n  });\n}\nfunction createMarkup(results) {\n  const markup = obj => {\n    checkGenreByID(obj);\n    const movieId = obj.id;\n    const movieTitle = obj.title;\n    const year = obj.release_date || '';\n    const imageUrl = 'https://image.tmdb.org/t/p/w500/';\n\n    let imageSrc = '';\n    if (obj.poster_path) {\n      imageSrc = `${imageUrl}${obj.poster_path}`;\n    } else {\n      imageSrc = 'no_image';\n    }\n\n    return `<li class=\"item-movies\">\n        <img id=\"${movieId}\" class=\"img-movie\" src=\"${imageSrc}\" alt=\"${movieTitle}\" />\n\n        <h2 class=\"title-movie\">${movieTitle}</h2>\n        <p class=\"genre-movie\">${checkGenreByID(obj)} | ${year.slice(0, 4)}</p>\n      </li>`;\n  };\n\n  const markups = results.map(markup).join('');\n  listMovies.insertAdjacentHTML('beforeend', markups);\n}\nfunction genresMovies(genres) {\n  localStorage.setItem('GENRES-MOVIES', JSON.stringify(genres));\n}\nfunction clearPage() {\n  listMovies.innerHTML = '';\n}\nexport { createMarkup, clearPage };\n","import MovieApi from './fetchApi';\nimport { createMarkup, clearPage } from './movieMarkup';\nconst paginationLists = document.querySelector('.pagination-list');\nconst maxPageBtnEl = document.querySelector('.max-page-btn');\nconst arrowLeftEl = document.querySelector('.item-arrow-left');\nconst pointsEl = document.querySelector('.points');\nconst endPoints = document.querySelector('.end-points');\nconst arrofRightEl = document.querySelector('.next-btn');\n\nconst refs = {\n  firstBtn: document.querySelector('.first-btn'),\n  secondBtn: document.querySelector('.second-btn'),\n  thirdBtn: document.querySelector('.third-btn'),\n  currentBtn: document.querySelector('.js-current-btn'),\n  fifthBtn: document.querySelector('.fifth-btn'),\n  sixthBtn: document.querySelector('.sixth-btn'),\n};\nconsole.log(refs.firstBtn);\nconst movieApi = new MovieApi();\n\npaginationLists.addEventListener('click', onClickPagination);\ncheckNunberPage();\ncheckCurrentPage();\nmovieApi.fetchMoviesWeek().then(data => {\n  maxPageBtnEl.textContent = data.total_pages;\n  console.log(maxPageBtnEl.textContent);\n});\n\nfunction onClickPagination(e) {\n  console.log(e.target.classList);\n\n  if (e.target.classList.contains('first-btn')) {\n    movieApi.resetPage();\n    checkNunberPage();\n    checkCurrentPage();\n    clearPage();\n    movieApi.fetchMoviesWeek().then(data => {\n      createMarkup(data.results);\n    });\n    endPoints.style.display = 'inline';\n    arrofRightEl.style.display = 'block';\n    maxPageBtnEl.classList.remove('currentBtnColor');\n    buttonMarkup(4);\n  }\n  if (e.target.classList.contains('max-page-btn')) {\n    movieApi.currentPage(maxPageBtnEl.textContent);\n    clearPage();\n    checkNunberPage();\n    checkCurrentPage();\n    console.log(movieApi.maxPages);\n    movieApi.fetchMoviesWeek().then(data => {\n      createMarkup(data.results);\n    });\n    buttonMarkup(e.target.textContent);\n    refs.currentBtn.classList.remove('currentBtnColor');\n    maxPageBtnEl.classList.add('currentBtnColor');\n    endPoints.style.display = 'none';\n    arrofRightEl.style.display = 'none';\n  }\n  if (e.target.classList.contains('next-btn')) {\n    movieApi.incrementPage();\n    clearPage();\n    checkNunberPage();\n    checkCurrentPage();\n    movieApi.fetchMoviesWeek().then(data => {\n      console.log(data);\n      createMarkup(data.results);\n    });\n    buttonMarkup(movieApi.page);\n  }\n  if (e.target.classList.contains('per-btn')) {\n    movieApi.reductPage();\n    clearPage();\n    checkNunberPage();\n    checkCurrentPage();\n    movieApi.fetchMoviesWeek().then(data => {\n      console.log(data);\n      createMarkup(data.results);\n    });\n    maxPageBtnEl.classList.remove('currentBtnColor');\n    buttonMarkup(movieApi.page);\n  }\n  if (e.target.classList.contains('main-btn')) {\n    movieApi.currentPage(Number(e.target.textContent));\n    clearPage();\n    movieApi.fetchMoviesWeek().then(data => {\n      createMarkup(data.results);\n    });\n    checkCurrentPage();\n    checkNunberPage();\n    maxPageBtnEl.classList.remove('currentBtnColor');\n    buttonMarkup(e.target.textContent);\n  }\n}\nfunction checkNunberPage() {\n  if (Number(movieApi.page) > 4) {\n    arrowLeftEl.style.display = 'block';\n    pointsEl.style.display = 'inline';\n  }\n\n  if (Number(movieApi.page) <= 4) {\n    arrowLeftEl.style.display = 'none';\n    pointsEl.style.display = 'none';\n  }\n  if (Number(movieApi.page) <= 995) {\n    endPoints.style.display = 'inline';\n    arrofRightEl.style.display = 'block';\n  }\n  if (Number(movieApi.page) > 995) {\n    endPoints.style.display = 'none';\n    arrofRightEl.style.display = 'none';\n  }\n}\n\nfunction buttonMarkup(currentNumber) {\n  const mainNumber = Number(currentNumber);\n  const differenceMaxPages = Number(movieApi.maxPages) - 4;\n  console.log(differenceMaxPages);\n  if (currentNumber < 3) {\n    return;\n  }\n  if (mainNumber >= differenceMaxPages) {\n    maxPageBtnEl.textContent = movieApi.maxPages;\n    refs.sixthBtn.textContent = Number(movieApi.maxPages) - 1;\n    refs.fifthBtn.textContent = Number(movieApi.maxPages) - 2;\n    refs.currentBtn.textContent = Number(movieApi.maxPages) - 3;\n    refs.thirdBtn.textContent = Number(movieApi.maxPages) - 4;\n    refs.secondBtn.textContent = Number(movieApi.maxPages) - 5;\n    return;\n  }\n  if (currentNumber == 3) {\n    refs.currentBtn.textContent = 4;\n    refs.secondBtn.textContent = 2;\n    refs.thirdBtn.textContent = 3;\n    refs.fifthBtn.textContent = 5;\n    refs.sixthBtn.textContent = 6;\n    return;\n  }\n  if (currentNumber == movieApi.maxPages) {\n    maxPageBtnEl.textContent = mainNumber;\n    refs.sixthBtn.textContent = Number(mainNumber) - 1;\n    refs.fifthBtn.textContent = Number(mainNumber) - 2;\n    refs.currentBtn.textContent = Number(mainNumber) - 3;\n    refs.thirdBtn.textContent = Number(mainNumber) - 4;\n    refs.secondBtn.textContent = Number(mainNumber) - 5;\n    return;\n  }\n\n  console.log(currentNumber);\n\n  refs.currentBtn.textContent = mainNumber;\n  refs.secondBtn.textContent = Number(mainNumber) - 2;\n  refs.thirdBtn.textContent = Number(mainNumber) - 1;\n  refs.fifthBtn.textContent = Number(mainNumber) + 1;\n  refs.sixthBtn.textContent = Number(mainNumber) + 2;\n}\n\nfunction checkCurrentPage() {\n  if (movieApi.page == 1) {\n    refs.firstBtn.classList.add('currentBtnColor');\n  }\n  if (movieApi.page != 1) {\n    refs.firstBtn.classList.remove('currentBtnColor');\n  }\n  if (movieApi.page == 2) {\n    refs.secondBtn.classList.add('currentBtnColor');\n  }\n  if (movieApi.page != 2) {\n    refs.secondBtn.classList.remove('currentBtnColor');\n  }\n  if (movieApi.page == 3) {\n    return refs.thirdBtn.classList.add('currentBtnColor');\n  }\n  if (movieApi.page != 3) {\n    refs.thirdBtn.classList.remove('currentBtnColor');\n  }\n\n  if (movieApi.page < 4) {\n    refs.currentBtn.classList.remove('currentBtnColor');\n  }\n  if (movieApi.page == movieApi.maxPages - 1) {\n    refs.sixthBtn.classList.add('currentBtnColor');\n  }\n  if (movieApi.page != movieApi.maxPages - 1) {\n    refs.sixthBtn.classList.remove('currentBtnColor');\n  }\n  if (movieApi.page == movieApi.maxPages - 2) {\n    refs.fifthBtn.classList.add('currentBtnColor');\n  }\n  if (movieApi.page != movieApi.maxPages - 2) {\n    refs.fifthBtn.classList.remove('currentBtnColor');\n  }\n  if (movieApi.page == movieApi.maxPages - 3) {\n    refs.currentBtn.classList.add('currentBtnColor');\n  }\n  if (movieApi.page != movieApi.maxPages - 3) {\n    refs.currentBtn.classList.remove('currentBtnColor');\n  }\n  if (movieApi.page == movieApi.maxPages - 5) {\n    refs.currentBtn.classList.add('currentBtnColor');\n  }\n\n  if (movieApi.page == movieApi.maxPages - 4) {\n    refs.thirdBtn.classList.add('currentBtnColor');\n  }\n\n  if (movieApi.page != movieApi.maxPages - 4) {\n    refs.thirdBtn.classList.remove('currentBtnColor');\n  }\n  if (movieApi.page >= 4 && movieApi.page <= 994) {\n    refs.currentBtn.classList.add('currentBtnColor');\n  }\n}\n"],"names":["parcelRequire","$sRYpV","$906e66e38a3148c7$var$listMovies","document","querySelector","$906e66e38a3148c7$var$searchMovie","$906e66e38a3148c7$var$movieApi","default","$906e66e38a3148c7$export$24783e9f3a24abe4","results","markups","map","obj","$eOsHY","checkGenreByID","movieId","id","movieTitle","title","year","release_date","imageSrc","poster_path","concat","slice","join","insertAdjacentHTML","$906e66e38a3148c7$export$6ea5325823156677","innerHTML","addEventListener","e","preventDefault","console","log","currentTarget","elements","query","value","resetPage","fetchMoviesForQuery","then","data","fetchMoviesWeek","fetchGeners","genres","localStorage","setItem","JSON","stringify","$dfaf77c789ce7a24$var$paginationLists","$dfaf77c789ce7a24$var$maxPageBtnEl","$dfaf77c789ce7a24$var$arrowLeftEl","$dfaf77c789ce7a24$var$pointsEl","$dfaf77c789ce7a24$var$endPoints","$dfaf77c789ce7a24$var$arrofRightEl","$dfaf77c789ce7a24$var$refs","firstBtn","secondBtn","thirdBtn","currentBtn","fifthBtn","sixthBtn","$dfaf77c789ce7a24$var$movieApi","$dfaf77c789ce7a24$var$checkNunberPage","Number","page","style","display","$dfaf77c789ce7a24$var$buttonMarkup","currentNumber","mainNumber","differenceMaxPages","maxPages","textContent","$dfaf77c789ce7a24$var$checkCurrentPage","classList","add","remove","target","contains","currentPage","incrementPage","reductPage","total_pages"],"version":3,"file":"index.5c51d588.js.map"}